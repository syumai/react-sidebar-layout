{"version":3,"sources":["App.js","index.js"],"names":["Resizer","position","initialPos","setWidth","resizerRef","useRef","useState","dragging","setDragging","xPos","setXPos","mouseDownHandler","useCallback","e","mouseUpHandler","mouseMoveHandler","nextXPos","prev","movementX","addEventListeners","node","addEventListener","document","removeEventListeners","removeEventListener","resizerCallbackRef","current","classNames","style","push","right","left","ref","className","join","loremIpsum","App","sidebarWidth","setSidebarWidth","secondaryViewWidth","setSecondaryViewWidth","ReactDOM","render","StrictMode","getElementById"],"mappings":"gPAGA,SAASA,EAAT,GAAsD,IAAnCC,EAAkC,EAAlCA,SAAUC,EAAwB,EAAxBA,WAAYC,EAAY,EAAZA,SACjCC,EAAaC,iBAAO,MADyB,EAEnBC,oBAAS,GAFU,mBAE5CC,EAF4C,KAElCC,EAFkC,OAG3BF,mBAASJ,GAHkB,mBAG5CO,EAH4C,KAGtCC,EAHsC,KAK7CC,EAAmBC,uBAAY,SAACC,GACpCL,GAAY,KACX,IAEGM,EAAiBF,uBAAY,SAACC,GAClCL,GAAY,KACX,IAEGO,EAAmBH,uBACvB,SAACC,GAIC,IAAIG,EAHCT,IAILG,GAAQ,SAACO,GACP,IAAMC,EAAYL,EAAEK,WAA0B,UAAbjB,GAAwB,EAAI,GAE7D,OADAe,EAAWC,EAAOC,KAGpBf,EAASa,MAEX,CAACf,EAAUM,EAAUJ,IAGjBgB,EAAoBP,uBACxB,SAACQ,GACCA,EAAKC,iBAAiB,cAAeV,GACrCS,EAAKC,iBAAiB,YAAaP,GACnCQ,SAASD,iBAAiB,cAAeN,KAE3C,CAACJ,EAAkBG,EAAgBC,IAG/BQ,EAAuBX,uBAC3B,SAACQ,GACCA,EAAKI,oBAAoB,cAAeb,GACxCS,EAAKI,oBAAoB,YAAaV,GACtCQ,SAASE,oBAAoB,cAAeT,KAE9C,CAACJ,EAAkBG,EAAgBC,IAG/BU,EAAqBb,uBACzB,SAACQ,GAEC,IAAKhB,EAAWsB,SAAYN,IAIxBhB,EAAWsB,UAAYN,EAA3B,CAIA,GAAIhB,EAAWsB,UAAYN,EAGzB,OAFAG,EAAqBnB,EAAWsB,cAChCtB,EAAWsB,QAAU,MAInBtB,EAAWsB,SAAWN,GACxBG,EAAqBnB,EAAWsB,SAGlCP,EAAkBC,GAClBhB,EAAWsB,QAAUN,KAEvB,CAACD,EAAmBI,IAGlBI,EAAa,CAAC,WACZC,EAAQ,GAQd,MAPiB,UAAb3B,GACF0B,EAAWE,KAAK,iBAChBD,EAAME,MAAQrB,EAAO,IAErBkB,EAAWE,KAAK,gBAChBD,EAAMG,KAAOtB,EAAO,GAGpB,qBACEuB,IAAKP,EACLQ,UAAWN,EAAWO,KAAK,KAC3BN,MAAOA,IAoCb,IAAMO,EAAU,0cAUDC,EAzCf,WAAgB,IAAD,EAC2B9B,mBAAS,KADpC,mBACN+B,EADM,KACQC,EADR,OAEuChC,mBAAS,KAFhD,mBAENiC,EAFM,KAEcC,EAFd,KAGb,OACE,qCACE,sBAAKP,UAAU,SAAf,UACE,qBAAKA,UAAU,UAAf,SAA0BE,IAC1B,cAACnC,EAAD,CACEC,SAAS,OACTC,WAAYmC,EACZlC,SAAUmC,IAEZ,qBAAKL,UAAU,eAAf,SAA+BE,IAC/B,cAACnC,EAAD,CACEC,SAAS,QACTC,WAAYqC,EACZpC,SAAUqC,IAEZ,qBAAKP,UAAU,iBAAf,SAAiCE,OAEnC,gGAG6BE,EAH7B,kBAGmDE,EAHnD,kCC9GNE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFrB,SAASsB,eAAe,U","file":"static/js/main.bb3f25c5.chunk.js","sourcesContent":["import { useCallback, useRef, useState } from \"react\";\nimport \"./App.css\";\n\nfunction Resizer({ position, initialPos, setWidth }) {\n  const resizerRef = useRef(null);\n  const [dragging, setDragging] = useState(false);\n  const [xPos, setXPos] = useState(initialPos);\n\n  const mouseDownHandler = useCallback((e) => {\n    setDragging(true);\n  }, []);\n\n  const mouseUpHandler = useCallback((e) => {\n    setDragging(false);\n  }, []);\n\n  const mouseMoveHandler = useCallback(\n    (e) => {\n      if (!dragging) {\n        return;\n      }\n      let nextXPos;\n      setXPos((prev) => {\n        const movementX = e.movementX * (position === \"right\" ? -1 : 1);\n        nextXPos = prev + movementX;\n        return nextXPos;\n      });\n      setWidth(nextXPos);\n    },\n    [position, dragging, setWidth]\n  );\n\n  const addEventListeners = useCallback(\n    (node) => {\n      node.addEventListener(\"pointerdown\", mouseDownHandler);\n      node.addEventListener(\"pointerup\", mouseUpHandler);\n      document.addEventListener(\"pointermove\", mouseMoveHandler);\n    },\n    [mouseDownHandler, mouseUpHandler, mouseMoveHandler]\n  );\n\n  const removeEventListeners = useCallback(\n    (node) => {\n      node.removeEventListener(\"pointerdown\", mouseDownHandler);\n      node.removeEventListener(\"pointerup\", mouseUpHandler);\n      document.removeEventListener(\"pointermove\", mouseMoveHandler);\n    },\n    [mouseDownHandler, mouseUpHandler, mouseMoveHandler]\n  );\n\n  const resizerCallbackRef = useCallback(\n    (node) => {\n      // both of old and new node are null or undefined\n      if (!resizerRef.current && !node) {\n        return;\n      }\n      // nothing is changed\n      if (resizerRef.current === node) {\n        return;\n      }\n      // resizer is removed\n      if (resizerRef.current && !node) {\n        removeEventListeners(resizerRef.current);\n        resizerRef.current = null;\n        return;\n      }\n      // resizer is changed\n      if (resizerRef.current && node) {\n        removeEventListeners(resizerRef.current);\n      }\n      // resizer is changed or newly attached\n      addEventListeners(node);\n      resizerRef.current = node;\n    },\n    [addEventListeners, removeEventListeners]\n  );\n\n  let classNames = [\"resizer\"];\n  const style = {};\n  if (position === \"right\") {\n    classNames.push(\"resizer-right\");\n    style.right = xPos - 3;\n  } else {\n    classNames.push(\"resizer-left\");\n    style.left = xPos - 3;\n  }\n  return (\n    <div\n      ref={resizerCallbackRef}\n      className={classNames.join(\" \")}\n      style={style}\n    ></div>\n  );\n}\n\nfunction App() {\n  const [sidebarWidth, setSidebarWidth] = useState(150);\n  const [secondaryViewWidth, setSecondaryViewWidth] = useState(150);\n  return (\n    <>\n      <div className=\"layout\">\n        <div className=\"sidebar\">{loremIpsum}</div>\n        <Resizer\n          position=\"left\"\n          initialPos={sidebarWidth}\n          setWidth={setSidebarWidth}\n        />\n        <div className=\"primary-view\">{loremIpsum}</div>\n        <Resizer\n          position=\"right\"\n          initialPos={secondaryViewWidth}\n          setWidth={setSecondaryViewWidth}\n        />\n        <div className=\"secondary-view\">{loremIpsum}</div>\n      </div>\n      <style>\n        {`\n        .layout {\n          grid-template-columns: ${sidebarWidth}px 1fr ${secondaryViewWidth}px;\n        }\n        `}\n      </style>\n    </>\n  );\n}\n\nconst loremIpsum = `\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do\neiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad\nminim veniam, quis nostrud exercitation ullamco laboris nisi ut\naliquip ex ea commodo consequat. Duis aute irure dolor in\nreprehenderit in voluptate velit esse cillum dolore eu fugiat nulla\npariatur. Excepteur sint occaecat cupidatat non proident, sunt in\nculpa qui officia deserunt mollit anim id est laborum.\n`;\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}